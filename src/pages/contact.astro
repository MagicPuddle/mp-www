---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
---

<!DOCTYPE html>
<html lang="en">
  <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  <body>
    <Header />
    <section class="corner-round border">
      <img class="div-banner" src="/banner.png" />
      <div id="contact">
        <h2 class="section-heading">
          <i class="fa-regular fa-address-book"></i> Get in Touch <i
            class="fa-regular fa-calendar-check"></i>
        </h2>
        <br />
        <article class="contact-description">
          <p>
            We're here to assist you. Reach out to us for any inquiries or
            information. Our dedicated team is ready to provide the support you
            need.
          </p>
        </article>
        <br />
        <!--  
        <article class="contact-details">
          <div class="contact-info">
            <i class="fa fa-envelope"></i>
            <a href="mailto:MagicPuddle@pm.me">MagicPuddle@pm.me</a>
          </div>
        </article>

        <article>
          <form data-netlify="true" name="contact" class="contact-form">
            <input type="hidden" name="form-name" value="contact" />

            <label for="name"></label>
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Name"
              required
            />

            <label for="email"></label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="Email"
              required
            />

            <textarea
              name="message"
              placeholder="Your Message"
              rows="4"
              required></textarea>

            <button type="submit">Send Message</button>
          </form>

          <script>
            const contactForm = document.querySelector(".contact-form");

            const handleSubmit = async (event) => {
              event.preventDefault();
              const formData = new FormData(contactForm);

              try {
                const response = await fetch("/", {
                  method: "POST",
                  headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                  },
                  body: new URLSearchParams(formData).toString(),
                });

                if (response.ok) {
                  alert("Thank you for your submission");
                  contactForm.reset();
                } else {
                  throw new Error("Submission failed");
                }
              } catch (error) {
                alert(error.message);
              }
            };

            contactForm.addEventListener("submit", handleSubmit);
          </script>
        -->
        <form name="contact" netlify>
          <p>
            <label><input type="text" name="name" placeholder="name" /></label>
          </p>
          <p>
            <label><input type="email" name="email" placeholder="email" /></label>
          </p>
          <textarea
              name="message"
              placeholder="Your Message"
              rows="4"
              required></textarea>
          <p>
            <button type="submit">Send</button>
          </p>
        </form>
          <br />
        </article>
      </div>

      <Footer />

      <style>
        /* Styles for the modern contact section */
        .contact-info {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 1.2rem;
          color: var(--text-primary); /* Use primary text color */
        }

        .contact-form {
          text-align: center;
          margin-top: 1rem;
        }

        .contact-form input,
        .contact-form textarea {
          background-color: var(--background-alt);
          color: var(--text);
          border: 1px solid var(--secondary);
          border-radius: 5px;
          padding: 1rem;
          font-size: 1rem;
          width: 100%;
          margin: 0.5rem 0;
        }

        .contact-form button {
          background-color: var(--secondary); /* Use secondary color */
          color: var(--text);
          border: none;
          border-radius: 5px;
          padding: 0.5rem 1rem;
          font-size: 1rem;
          cursor: pointer;
          transition: background-color 0.3s;
        }

        .contact-form button:hover {
          background-color: var(
            --secondary-alt
          ); /* Use secondary alternate color */
        }
      </style>
    </section>
  </body>
</html>

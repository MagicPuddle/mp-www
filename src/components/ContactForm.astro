<form class="contact-form" on:submit={handleSubmit}>
  <h2>Contact Form</h2>
  <input type="text" name="name" placeholder="Name" required />
  <input type="email" name="email" placeholder="Email" required />
  <textarea name="message" placeholder="Message" required />
  <button type="submit">Submit</button>
</form>
<p>{formStatus}</p>

<script>
  let formStatus = "";

  async function handleSubmit(event) {
    event.preventDefault();

    const formData = new FormData(event.target);
    const data = {
      name: formData.get("name"),
      email: formData.get("email"),
      message: formData.get("message"),
    };

    try {
      const response = await fetch("/.netlify/functions/submitForm", {
        method: "POST",
        body: JSON.stringify(data),
      });

      if (response.ok) {
        formStatus = "Thank you for your message!";
      } else {
        formStatus = "Error submitting form";
      }
    } catch (error) {
      formStatus = "Error submitting form";
    }
  }
</script>